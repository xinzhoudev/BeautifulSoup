(function() {window.PARSELY = window.PARSELY || {}; window.PARSELY.version = "2.3.0"; window.PARSELY.majorVersion = 2; window.PARSELY.hotfixName = ""; window.PARSELY.flavor = "conversions-engagedtime-metadatahashing-slots"; window.PARSELY.__template_track_ips = true; window.PARSELY.__template_heartbeat_should_honor_autotrack = undefined; window.PARSELY.__template_limit_et_sample_len = false; window.PARSELY.__template_apikey = "arstechnica.com"; window.PARSELY.__template_is_first_party = true; window.PARSELY.__template_pixelhost = "fpa-events.arstechnica.com"; window.PARSELY.__template_customizations = null; })();

/*! parsely-js-api - v2.3.0 - 2024-02-01
 * http://www.parsely.com/
 * 2024 Parsely, Inc. */

function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.PARSELY=window.PARSELY||{},function(){var e=function(){return function(e){this!==window&&void 0!==this&&(this.msgs.length>=100&&(this.msgs=this.msgs.slice(0,100)),this.msgs.push(e))}};PARSELY.console={"msgs":[],"log":e(),"dir":e()}}(),function(){var e,t=PARSELY.console;try{e=document.getElementById("parsely-cfg").getAttribute("data-parsely-site")}catch(o){e=null}var n=PARSELY.site||e||PARSELY.__template_apikey||"missing.parsely.com",i=document.location.protocol+"//"+(PARSELY.pixelhost||PARSELY.__template_pixelhost||"p1.parsely.com");PARSELY.pInit=function(e){if(e.error===undefined){if(t.log("Static configuration loaded"),"object"===_typeof(PARSELY.config))for(var n in PARSELY.config)PARSELY.config.hasOwnProperty(n)&&(e[n]=PARSELY.config[n]);PARSELY.config=e,PARSELY.urls={"static":null,"config":null,"pixel":i},PARSELY._sync=!0,PARSELY.is_first_party=PARSELY.__template_is_first_party||!1}else t.log("Unable to load static configuration")},t.log("Loading configuration statically");var r={"apikey":n,"uuid":null,"network_uuid":null,"apikey_uuid":null,"settings":{"debug":!1,"widget":!1,"tracker":!0,"test":window._parselyIsTest||!1},"bundle":null,"customizations":PARSELY.__template_customizations||null,"track_ip_addresses":null==PARSELY.__template_track_ips||PARSELY.__template_track_ips,"heartbeat_should_honor_autotrack":PARSELY.__template_heartbeat_should_honor_autotrack||!1,"limit_et_sample_len":PARSELY.__template_limit_et_sample_len||!1,"is_remote_config":!1};PARSELY.pInit(r)}(),"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function e(e){return e<10?"0"+e:e}function t(){return this.valueOf()}function n(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=c[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,t){var r,o,c,l,d,f=a,p=t[e];switch(p&&"object"===_typeof(p)&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof u&&(p=u.call(t,e,p)),_typeof(p)){case"string":return n(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(a+=s,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,r=0;r<l;r+=1)d[r]=i(r,p)||"null";return c=0===d.length?"[]":a?"[\n"+a+d.join(",\n"+a)+"\n"+f+"]":"["+d.join(",")+"]",a=f,c}if(u&&"object"===_typeof(u))for(l=u.length,r=0;r<l;r+=1)"string"==typeof u[r]&&(c=i(o=u[r],p))&&d.push(n(o)+(a?": ":":")+c);else for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c=i(o,p))&&d.push(n(o)+(a?": ":":")+c);return c=0===d.length?"{}":a?"{\n"+a+d.join(",\n"+a)+"\n"+f+"}":"{"+d.join(",")+"}",a=f,c}}window.PARSELY||(window.PARSELY={});var r=window.PARSELY;r.JSON||(r.JSON=window.JSON||{});var o=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=t,Number.prototype.toJSON=t,String.prototype.toJSON=t);var a,s,c,u;"function"!=typeof JSON.stringify&&(c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(a="",s="","number"==typeof n)for(r=0;r<n;r+=1)s+=" ";else"string"==typeof n&&(s=n);if(u=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return i("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(){function e(e){return e.replace(/\\(?:u(.{4})|([^u]))/g,function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):a[n]})}var t,n,i,r,o,a={"\\":"\\",'"':'"',"/":"/","t":"\t","n":"\n","r":"\r","f":"\f","b":"\b"},s={"go":function(){t="ok"},"firstokey":function(){r=o,t="colon"},"okey":function(){r=o,t="colon"},"ovalue":function(){t="ocomma"},"firstavalue":function(){t="acomma"},"avalue":function(){t="acomma"}},c={"go":function(){t="ok"},"ovalue":function(){t="ocomma"},"firstavalue":function(){t="acomma"},"avalue":function(){t="acomma"}},u={"{":{"go":function(){n.push({"state":"ok"}),i={},t="firstokey"},"ovalue":function(){n.push({"container":i,"state":"ocomma","key":r}),i={},t="firstokey"},"firstavalue":function(){n.push({"container":i,"state":"acomma"}),i={},t="firstokey"},"avalue":function(){n.push({"container":i,"state":"acomma"}),i={},t="firstokey"}},"}":{"firstokey":function(){var e=n.pop();o=i,i=e.container,r=e.key,t=e.state},"ocomma":function(){var e=n.pop();i[r]=o,o=i,i=e.container,r=e.key,t=e.state}},"[":{"go":function(){n.push({"state":"ok"}),i=[],t="firstavalue"},"ovalue":function(){n.push({"container":i,"state":"ocomma","key":r}),i=[],t="firstavalue"},"firstavalue":function(){n.push({"container":i,"state":"acomma"}),i=[],t="firstavalue"},"avalue":function(){n.push({"container":i,"state":"acomma"}),i=[],t="firstavalue"}},"]":{"firstavalue":function(){var e=n.pop();o=i,i=e.container,r=e.key,t=e.state},"acomma":function(){var e=n.pop();i.push(o),o=i,i=e.container,r=e.key,t=e.state}},":":{"colon":function(){if(Object.hasOwnProperty.call(i,r))throw new SyntaxError("Duplicate key '"+r+'"');t="ovalue"}},",":{"ocomma":function(){i[r]=o,t="okey"},"acomma":function(){i.push(o),t="avalue"}},"true":{"go":function(){o=!0,t="ok"},"ovalue":function(){o=!0,t="ocomma"},"firstavalue":function(){o=!0,t="acomma"},"avalue":function(){o=!0,t="acomma"}},"false":{"go":function(){o=!1,t="ok"},"ovalue":function(){o=!1,t="ocomma"},"firstavalue":function(){o=!1,t="acomma"},"avalue":function(){o=!1,t="acomma"}},"null":{"go":function(){o=null,t="ok"},"ovalue":function(){o=null,t="ocomma"},"firstavalue":function(){o=null,t="acomma"},"avalue":function(){o=null,t="acomma"}}};return function(i,r){var a,l=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;t="go",n=[];try{for(;;){if(!(a=l.exec(i)))break;a[1]?u[a[1]][t]():a[2]?(o=+a[2],c[t]()):(o=e(a[3]),s[t]()),i=i.slice(a[0].length)}}catch(d){t=d}if("ok"!==t||/[^\u0020\t\n\r]/.test(i))throw t instanceof SyntaxError?t:new SyntaxError("JSON");return"function"==typeof r?function f(e,t){var n,i,a=e[t];if(a&&"object"===_typeof(a))for(n in o)Object.prototype.hasOwnProperty.call(a,n)&&((i=f(a,n))!==undefined?a[n]=i:delete a[n]);return r.call(e,t,a)}({"":o},""):o}}())}(),function(){this.PARSELY||(this.PARSELY={});var e=this.PARSELY,t=!1,n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;e.Class=function(){},e.Class.extend=function(e){function i(){!t&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;t=!0;var o=new this;t=!1;for(var a in e)o[a]="function"==typeof e[a]&&"function"==typeof r[a]&&n.test(e[a])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(a,e[a]):e[a];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i}}(),function(e,t){"undefined"==typeof PARSELY&&(PARSELY={}),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?(module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)},PARSELY.$=PARSELY.jQuery=t(e,!0)):PARSELY.$=PARSELY.jQuery=t(e,!1)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=y.type(e);return"function"!==n&&!y.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){var t;for(t in e)if(("data"!==t||!y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,n,i){if(y.acceptData(e)){var r,o,a=y.expando,s=e.nodeType,c=s?y.cache:e,l=s?e[a]:e[a]&&a;if(l&&c[l]&&(i||c[l].data)||n!==undefined||"string"!=typeof t)return l||(l=s?e[a]=u.pop()||y.guid++:a),c[l]||(c[l]=s?{}:{"toJSON":y.noop}),"object"!==_typeof(t)&&"function"!=typeof t||(i?c[l]=y.extend(c[l],t):c[l].data=y.extend(c[l].data,t)),o=c[l],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[y.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[y.camelCase(t)]):r=o,r}}function o(){return!0}function a(){return!1}function s(){try{return x.activeElement}catch(e){}}function c(e,t,n,i){var r;if(y.isArray(t))y.each(t,function(t,r){n||Y.test(e)?i(e,r):c(e+"["+("object"===_typeof(r)?t:"")+"]",r,n,i)});else if(n||"object"!==y.type(t))i(e,t);else for(r in t)c(e+"["+r+"]",t[r],n,i)}var u=[],l=u.slice,d=(u.concat,u.push),f=(u.indexOf,{}),p=f.toString,h=f.hasOwnProperty,g={},v="1.11.1 -deprecated,-css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl",y=function D(e,t){return new D.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_=/^-ms-/,b=/-([\da-z])/gi,S=function(e,t){return t.toUpperCase()};y.fn=y.prototype={"jquery":v,"constructor":y,"selector":"","length":0,"toArray":function(){return l.call(this)},"get":function(e){return null!=e?e<0?this[e+this.length]:this[e]:l.call(this)},"pushStack":function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},"each":function(e,t){return y.each(this,e,t)},"map":function(e){return this.pushStack(y.map(this,function(t,n){return e.call(t,n,t)}))},"slice":function(){return this.pushStack(l.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},"end":function(){return this.prevObject||this.constructor(null)},"push":d,"sort":u.sort,"splice":u.splice},y.extend=y.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"===_typeof(a)||y.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],a!==(n=r[i])&&(u&&n&&(y.isPlainObject(n)||(t=y.isArray(n)))?(t?(t=!1,o=e&&y.isArray(e)?e:[]):o=e&&y.isPlainObject(e)?e:{},a[i]=y.extend(u,o,n)):n!==undefined&&(a[i]=n));return a},y.extend({"expando":"jQuery"+(v+Math.random()).replace(/\D/g,""),"isReady":!0,"error":function(e){throw new Error(e)},"noop":function(){},"isFunction":function(e){return"function"===y.type(e)},"isArray":Array.isArray||function(e){return"array"===y.type(e)},"isWindow":function(e){return null!=e&&e==e.window},"isNumeric":function(e){return!y.isArray(e)&&e-parseFloat(e)>=0},"isEmptyObject":function(e){var t;for(t in e)return!1;return!0},"isPlainObject":function(e){var t;if(!e||"object"!==y.type(e)||e.nodeType||y.isWindow(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(g.ownLast)for(t in e)return h.call(e,t);for(t in e);return t===undefined||h.call(e,t)},"type":function(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?f[p.call(e)]||"object":_typeof(e)},"camelCase":function(e){return e.replace(_,"ms-").replace(b,S)},"nodeName":function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"each":function(e,t,i){var r=0,o=e.length,a=n(e);if(i){if(a)for(;r<o&&!1!==t.apply(e[r],i);r++);else for(r in e)if(!1===t.apply(e[r],i))break}else if(a)for(;r<o&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},"trim":function(e){return null==e?"":(e+"").replace(m,"")},"makeArray":function(e,t){var i=t||[];return null!=e&&(n(Object(e))?y.merge(i,"string"==typeof e?[e]:e):d.call(i,e)),i},"guid":1,"now":function(){return+new Date},"support":g}),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var w,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=e.document,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(y.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if((n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:P.exec(e))&&(n[1]||!t)){if(n[1]){if(t=t instanceof y?t[0]:t,y.merge(this,y.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),E.test(n[1])&&y.isPlainObject(t))for(n in t)y.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=x.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=x,this.selector=e,this}}else{if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(y.isFunction(e))return"undefined"!=typeof w.ready?w.ready(e):e(y)}return e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),y.makeArray(e,this)}).prototype=y.fn,w=y(x);var k,A=/\S+/g,O="undefined"==typeof undefined?"undefined":_typeof(undefined);for(k in y(g))break;g.ownLast="0"!==k,y.acceptData=function(e){var t=y.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};y.extend({"cache":{},"noData":{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},"hasData":function(e){return!!(e=e.nodeType?y.cache[e[y.expando]]:e[y.expando])&&!i(e)},"data":function(e,t,n){return r(e,t,n)},"_data":function(e,t,n){return r(e,t,n,!0)}});!function(){var t,n,i=x.createElement("div");for(t in{"submit":!0,"change":!0,"focusin":!0})n="on"+t,(g[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),g[t+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var C=/^key/,L=/^(?:mouse|pointer|contextmenu)|click/,R=/^(?:focusinfocus|focusoutblur)$/,T=/^([^.]*)(?:\.(.+)|)$/;y.event={"global":{},"add":function(e,t,n,i,r){var o,a,s,c,u,l,d,f,p,h,g,v=y._data(e);if(v){for(n.handler&&(n=(c=n).handler,r=c.selector),n.guid||(n.guid=y.guid++),(a=v.events)||(a=v.events={}),(l=v.handle)||((l=v.handle=function(e){return _typeof(y)===O||e&&y.event.triggered===e.type?undefined:y.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(A)||[""]).length;s--;)p=g=(o=T.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(u=y.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=y.event.special[p]||{},d=y.extend({"type":p,"origType":g,"data":i,"handler":n,"guid":n.guid,"selector":r,"needsContext":r&&y.expr.match.needsContext.test(r),"namespace":h.join(".")},c),(f=a[p])||((f=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,h,l)||(e.addEventListener?e.addEventListener(p,l,!1):e.attachEvent&&e.attachEvent("on"+p,l))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),y.event.global[p]=!0);e=null}},"trigger":function(t,n,i,r){var o,a,s,c,u,l,d,f=[i||x],p=h.call(t,"type")?t.type:t,g=h.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||x,3!==i.nodeType&&8!==i.nodeType&&!R.test(p+y.event.triggered)&&(p.indexOf(".")>=0&&(p=(g=p.split(".")).shift(),g.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[y.expando]?t:new y.Event(p,"object"===_typeof(t)&&t),t.isTrigger=r?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=i),n=null==n?[t]:y.makeArray(n,[t]),u=y.event.special[p]||{},r||!u.trigger||!1!==u.trigger.apply(i,n))){if(!r&&!u.noBubble&&!y.isWindow(i)){for(c=u.delegateType||p,R.test(c+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(i.ownerDocument||x)&&f.push(l.defaultView||l.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?c:u.bindType||p,(o=(y._data(s,"events")||{})[t.type]&&y._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&y.acceptData(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),n))&&y.acceptData(i)&&a&&i[p]&&!y.isWindow(i)){(l=i[a])&&(i[a]=null),y.event.triggered=p;try{i[p]()}catch(v){}y.event.triggered=undefined,l&&(i[a]=l)}return t.result}},"dispatch":function(e){e=y.event.fix(e);var t,n,i,r,o,a=[],s=l.call(arguments),c=(y._data(this,"events")||{})[e.type]||[],u=y.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=y.event.handlers.call(this,e,c),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((y.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},"handlers":function(e,t){var n,i,r,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(r=[],o=0;o<s;o++)r[n=(i=t[o]).selector+" "]===undefined&&(r[n]=i.needsContext?y(n,this).index(c)>=0:y.find(n,this,null,[c]).length),r[n]&&r.push(i);r.length&&a.push({"elem":c,"handlers":r})}return s<t.length&&a.push({"elem":this,"handlers":t.slice(s)}),a},"fix":function(e){if(e[y.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=L.test(r)?this.mouseHooks:C.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new y.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=o.srcElement||x),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"special":{"load":{"noBubble":!0},"focus":{"trigger":function(){if(this!==s()&&this.focus)try{return this.focus(),!1}catch(e){}},"delegateType":"focusin"},"blur":{"trigger":function(){if(this===s()&&this.blur)return this.blur(),!1},"delegateType":"focusout"}}},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?o:a):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||y.now(),this[y.expando]=!0},y.Event.prototype={"isDefaultPrevented":a,"isPropagationStopped":a,"isImmediatePropagationStopped":a,"stopPropagation":function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},"stopImmediatePropagation":function(){var e=this.originalEvent;this.isImmediatePropagationStopped=o,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},y.fn.extend({"on":function(e,t,n,i,r){var o,s;if("object"===_typeof(e)){"string"!=typeof t&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=undefined):null==i&&("string"==typeof t?(i=n,n=undefined):(i=n,n=t,t=undefined)),!1===i)i=a;else if(!i)return this;return 1===r&&(s=i,(i=function(e){return y().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=y.guid++)),this.each(function(){y.event.add(this,e,i,n,t)})},"trigger":function(e,t){return this.each(function(){y.event.trigger(e,t,this)})},"triggerHandler":function(e,t){var n=this[0];if(n)return y.event.trigger(e,t,n,!0)}});g.getSetAttribute,g.input;y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){y.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var N=/%20/g,Y=/\[\]$/;y.param=function(e,t){var n,i=[],r=function(e,t){t=y.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=y.ajaxSettings&&y.ajaxSettings.traditional),y.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,function(){r(this.name,this.value)});else for(n in e)c(n,e[n],t,r);return i.join("&").replace(N,"+")};var I=e.jQuery,j=e.$;return y.noConflict=function(t){return e.$===y&&(e.$=j),t&&e.jQuery===y&&(e.jQuery=I),y},_typeof(t)===O&&(e.jQuery=e.$=y),y}),"undefined"==typeof window.PARSELY&&(window.PARSELY={}),function(e,t){window.PARSELY._lifecycle=t()}(0,function(){"use strict";var e=void 0;try{new EventTarget,e=!1}catch(t){e=!1}var t="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t},a=function(){function e(){n(this,e),this._registry={}}return i(e,[{"key":"addEventListener","value":function(e,t){this._getRegistry(e).push(t)}},{"key":"removeEventListener","value":function(e,t){var n=this._getRegistry(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}},{"key":"dispatchEvent","value":function(e){return e.target=this,Object.freeze(e),this._getRegistry(e.type).forEach(function(t){return t(e)}),!0}},{"key":"_getRegistry","value":function(e){return this._registry[e]=this._registry[e]||[]}}]),e}(),s=e?EventTarget:a,c=e?Event:function b(e){n(this,b),this.type=e},u=function(e){function t(e,i){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.newState=i.newState,r.oldState=i.oldState,r.originalEvent=i.originalEvent,r}return r(t,c),t}(),l="active",d="passive",f="hidden",p="frozen",h="terminated",g="object"===("undefined"==typeof safari?"undefined":t(safari))&&safari.pushNotification,v=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],y=function(e){return e.preventDefault(),e.returnValue="Are you sure?"},m=[[l,d,f,h],[l,d,f,p],[f,d,l],[p,f],[p,l],[p,d]].map(function(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}),_=function(){return document.visibilityState===f?f:document.hasFocus()?l:d};return new(function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=_();return e._state=i,e._unsavedChanges=[],e._handleEvents=e._handleEvents.bind(e),v.forEach(function(t){return addEventListener(t,e._handleEvents,!0)}),g&&addEventListener("beforeunload",function(t){e._safariBeforeUnloadTimeout=setTimeout(function(){t.defaultPrevented||t.returnValue.length>0||e._dispatchChangesIfNeeded(t,f)},0)}),e}return r(t,s),i(t,[{"key":"addUnsavedChanges","value":function(e){!this._unsavedChanges.indexOf(e)>-1&&(0===this._unsavedChanges.length&&addEventListener("beforeunload",y),this._unsavedChanges.push(e))}},{"key":"removeUnsavedChanges","value":function(e){var t=this._unsavedChanges.indexOf(e);t>-1&&(this._unsavedChanges.splice(t,1),0===this._unsavedChanges.length&&removeEventListener("beforeunload",y))}},{"key":"_dispatchChangesIfNeeded","value":function(e,t){if(t!==this._state)for(var n=function(e,t){for(var n,i=0;n=m[i];++i){var r=n[e],o=n[t];if(r>=0&&o>=0&&o>r)return Object.keys(n).slice(r,o+1)}return[]}(this._state,t),i=0;i<n.length-1;++i){var r=n[i],o=n[i+1];this._state=o,this.dispatchEvent(new u("statechange",{"oldState":r,"newState":o,"originalEvent":e}))}}},{"key":"_handleEvents","value":function(e){switch(g&&clearTimeout(this._safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(e,_());break;case"focus":this._dispatchChangesIfNeeded(e,l);break;case"blur":this._state===l&&this._dispatchChangesIfNeeded(e,_());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(e,e.persisted?p:h);break;case"visibilitychange":this._state!==p&&this._state!==h&&this._dispatchChangesIfNeeded(e,_());break;case"freeze":this._dispatchChangesIfNeeded(e,p)}}},{"key":"state","get":function(){return this._state}},{"key":"pageWasDiscarded","get":function(){return document.wasDiscarded||!1}}]),t}())}),function(){this.PARSELY=this.PARSELY||{};var e,t=this.PARSELY;t.util={},(e=t.util).getWindow=function(){if(t.getWindow&&"function"==typeof t.getWindow)return t.getWindow();try{return window.top.document.cookie,window.top}catch(e){try{return window.parent.document.cookie,window.parent}catch(n){return window}}},e.windowSetFunction=function(t,n){var i=e.getWindow(),r=i[t];i[t]=function(){n(),"function"==typeof r&&r()}},e.windowAddEventListener=function(e,t){var n=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{"get":function(){n=!0}}))}catch(r){}var i=!1;return n&&(i={"passive":!0,"capture":!1}),"undefined"!=typeof window.addEventListener?window.addEventListener(e,t,i):"undefined"!=typeof document.attachEvent&&document.attachEvent("on"+e,t)},e.objAddEventListener=function(e,t,n,i){return i=void 0!==i&&i,"undefined"!=typeof e.addEventListener?e.addEventListener(t,n,i):"undefined"!=typeof e.attachEvent&&e.attachEvent("on"+t,n)},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.getEventUrl=function(){return t.config.eventUrl?t.config.eventUrl:t.lastRequest?t.lastRequest.url:e.getWindow().location.href},e.isSafari=function(){return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")},e.isFirefox=function(){return"undefined"!=typeof InstallTrigger},e.isIE=function(){return navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>-1&&navigator.userAgent.indexOf("Trident/")>-1},e.getWindowCrypto=function(){var t=e.getWindow();if(t)return t.crypto},e.makeUUID=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=e.getWindowCrypto();return n?t+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^n.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}):t+"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)})},e.now=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?Math.round(performance.timing.navigationStart+performance.now()):(new Date).getTime()},e.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e.buildNewParamsObject=function(e,t){e.includes("#")&&(e=e.split("#")[0]);var n={},i=e.split("&");return t?i.forEach(function(e){var i=e.split("=");-1===t.indexOf(i[0])&&(n[i[0]]=i[1])}):i.forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}}(),function(e){"use strict";e.Cookies=function(t){var n=function i(e,t,n){return 1===arguments.length?i.get(e):i.set(e,t,n)};return n._document=t.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={"path":"/","secure":!1},n.get=function(e){return n._renewCache(),n._cache[n._cacheKeyPrefix+e]},n.getJSON=function(t){var i=n.get(t);return i===undefined?i:e.JSON.parse(i)},n.set=function(t,i,r){(r=n._getExtendedOptions(r)).expires=n._getExpiresDate(i===undefined?-1:r.expires);try{n._document.cookie=n._generateCookieString(t,i,r)}catch(o){e.console.log(o)}return n},n.setJSON=function(t,i,r){return n.set(t,e.JSON.stringify(i),r),n},n.extendExpiry=function(e,t){var i=n.get(e);if(i===undefined)return!1;n.set(e,i,t)},n.expire=function(e,t){if(e.constructor!==Array)return n.set(e,undefined,t);for(var i=0;i<e.length;i++)n.set(e[i],undefined,t)},n._getExtendedOptions=function(e){return{"path":e&&e.path||n.defaults.path,"domain":e&&e.domain||n.defaults.domain,"expires":e&&e.expires||n.defaults.expires,"secure":e&&e.secure!==undefined?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===Infinity?n._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!n._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(t,i,r){t=(t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"),i=(i+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);var o=(r=r||{}).domain||e.cookieDomain||n._autoCookieDomain,a=t+"="+i;return a+=r.path?";path="+r.path:"",a+=o?";domain="+o:"",a+=r.expires?";expires="+r.expires.toUTCString():"",a+=r.secure?";secure":""},n._getCacheFromString=function(e){for(var t={},i=e?e.split("; "):[],r=0;r<i.length;r++){var o=n._getKeyValuePairFromCookieString(i[r]);if(null!=o){var a=n._cacheKeyPrefix+o.key;t[a]===undefined&&(t[a]=o.value)}}return t},n._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n=e.substr(0,t),i=e.substr(t+1);try{n=decodeURIComponent(n),i=decodeURIComponent(i)}catch(r){return null}return{"key":n,"value":i}},n._renewCache=function(){try{n._cachedDocumentCookie!==n._document.cookie&&(n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie)}catch(t){e.console.log(t)}},n._isValidDomain=function(e){var t="cookies.js_dtest",i="1"===n.set(t,1,{"domain":e}).get(t);return n.expire(t,{"domain":e}),i},n._getAutoCookieDomain=function(){var t=e.util.getWindow().location.hostname;if(!isNaN(parseInt(t.replace(".",""),10)))return n._isValidDomain(t)?t:null;var i=t.split(".");if(1===i.length)return t;for(var r,o=2;o<=i.length;o++){var a=i.slice(-o).join(".");if(n._isValidDomain(a)){r=a;break}}return r||t},n._autoCookieDomain=n._getAutoCookieDomain(),n}(e.util.getWindow())}(this.PARSELY),function(e){"use strict";var t=function(){};t.prototype=function(){var t=function i(e,t,n){return 1===arguments.length?i.get(e):i.set(e,t,n)};t._keyPrefix="pStore-",t._delimiter="|^";try{t._store=e.util.getWindow().localStorage}catch(n){t._store=undefined}return t._baseDomain=null,t._quotaErrors=["NS_ERROR_DOM_QUOTA_REACHED","QUOTA_EXCEEDED_ERR","QuotaExceededError","W3CException_DOM_QUOTA_EXCEEDED_ERR"],t.get=function(n){t._migrateCookie(n);var i=t._store[t._keyPrefix+n];if(void 0===i)return undefined;try{i=t._deserialize(i)}catch(o){return console.log("Error deserializing stored data for key "+n),t.expire(n),undefined}if("undefined"!=typeof i.expires){var r=parseInt(i.expires,10);if(!isNaN(r)&&e.util.now()>r)return t.expire(n),undefined}return i.value},t.getJSON=function(n){var i=t.get(n);return void 0===i?i:e.JSON.parse(i)},t.set=function(n,i,r){var o=t._keyPrefix+n;if(void 0===i)return delete t._store[o],t;r=e.Cookies._getExtendedOptions(r);var a,s=e.Cookies._getExpiresDate(r.expires);void 0!==s&&(s=s.getTime());try{a=t._serialize({"value":i,"expires":s})}catch(c){return console.log("Error serializing stored data for key "+n),t}try{t._store[o]=a}catch(c){console.log("Error storing data for key "+o+" in localStorage"),-1!==t._quotaErrors.indexOf(c.name)&&console.log("quota exceeded")}return t},t.setJSON=function(n,i,r){return t.set(n,e.JSON.stringify(i),r),t},t.extendExpiry=function(e,n){var i=t.get(e);if(void 0===i)return!1;t.set(e,i,n)},t.expire=function(e,n){return t.set(e,undefined,n)},t._serialize=function(e){return e.value+t._delimiter+e.expires},t._deserialize=function(e){var n=e.split(t._delimiter),i={"value":n[0]};return n.length>1&&(i.expires=n[1]),i},t._migrateCookie=function(n){var i=e.Cookies.get(n);if(e.Cookies.expire(n),void 0!==i){var r=e.ParselyStorage.defaults[n],o={};void 0!==r&&(o.expires=r),t.set(n,i,o)}},{"constructor":t,"get":t.get,"getJSON":t.getJSON,"set":t.set,"setJSON":t.setJSON,"extendExpiry":t.extendExpiry,"expire":t.expire}}();var n=function(){};n.prototype=function(){var n=new t,i=function(){var t=n._keyPrefix;try{return e.util.getWindow().localStorage.setItem(t,t),e.util.getWindow().localStorage.removeItem(t),!0}catch(i){return!1}}()&&function(){var t=!1,n=e.Cookies.get("_parsely_visitor");return void 0!==n&&"{"!==n.charAt(0)&&(t=!0),!!e.util.isSafari()||!0===e.use_localstorage&&!t}()?n:e.Cookies;return{"supportsCookies":"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1),"get":i.get,"getJSON":i.getJSON,"set":i.set,"setJSON":i.setJSON,"extendExpiry":i.extendExpiry,"expire":i.expire,"defaults":{"visitor":{"key":"_parsely_visitor","expires":34164e3,"secure":!1},"session":{"key":"_parsely_session","expires":1800,"secure":!1}}}}(),e.ParselyStorage=new n}(this.PARSELY),function(){var e=this.PARSELY,t=e.Class,n=e.ParselyStorage,i=e.console,r=e.JSON,o=["id"],a=t.extend({"init":function(){this.visitorCookieName=e.visitorCookieName||n.defaults.visitor.key,this.visitorCookieTimeoutSecs=e.visitorCookieTimeoutSecs||n.defaults.visitor.expires,this.visitorCookieSecure=e.visitorCookieSecure||n.defaults.visitor.secure,this.legacyVisitorCookieName=e.legacyVisitorCookieName||"parsely_uuid"},"getVisitorInfo":function(t){t=t||!1;var o=n.get(this.visitorCookieName);if(void 0===o){var a=n.get(this.legacyVisitorCookieName),s=e.config.apikey_uuid||e.config.uuid;!1!==e.optout_disabled_cookies&&void 0===a&&!1===n.supportsCookies&&(a="OPTOUT",i.log("Setting visitor ID to OPTOUT")),void 0===a&&null!==s?(a=s,i.log("No existing visitor ID found, using UUID from config: "+a)):i.log("Using existing value for visitor ID: "+a),o=this.initVisitor(a),n.expire("parsely_uuid")}else{var c=!1;try{o=r.parse(o),c=!0}catch(u){i.log('Unable to JSON parse visitorInfo "'+o+'", assuming ampid.'),o=this.initVisitor(o)}c&&t&&this.extendVisitorExpiry()}return e.config.parsely_site_uuid=o.id,o},"initVisitor":function(e){return this.setVisitorInfo({"id":e,"session_count":0,"last_session_ts":0})},"setVisitorInfo":function(e){for(var t=0;t<o.length;t++){var i=o[t];if("undefined"==typeof e[i]||null===e[i])return!1}return n.setJSON(this.visitorCookieName,e,{"expires":this.visitorCookieTimeoutSecs,"secure":this.visitorCookieSecure}),e},"extendVisitorExpiry":function(){n.extendExpiry(this.visitorCookieName,{"expires":this.visitorCookieTimeoutSecs,"secure":this.visitorCookieSecure})}});e.visitorManager=new a}(),function(){var e=this.PARSELY,t=e.util,n=e.Class,i=e.ParselyStorage,r=e.console,o=e.visitorManager,a=n.extend({"init":function(){this.windowAlias=t.getWindow(),this.documentAlias=this.windowAlias.document,this.sessionCookieName=e.sessionCookieName||i.defaults.session.key,this.sessionCookieTimeoutSecs=i.defaults.session.expires,this.sessionCookieSecure=e.sessionCookieSecure||i.defaults.session.secure,r.log("Initializing session."),this.getSession(!1)},"getSession":function(n){n=n||!1;var a=o.getVisitorInfo(),s=i.getJSON(this.sessionCookieName);if(void 0===s){var c,u;!1===a?(c=1,u=0):(a.session_count++,c=a.session_count,u=a.last_session_ts);var l=new Date;s={"sid":c,"surl":t.getEventUrl(),"sref":e.lastRequest?e.lastRequest.urlref:this.documentAlias.referrer,"sts":l.getTime(),"slts":u},r.log("Session expired/never existed, creating new session with "+this.sessionCookieTimeoutSecs+"s timeout: "+e.JSON.stringify(s)),i.setJSON(this.sessionCookieName,s,{"expires":this.sessionCookieTimeoutSecs,"secure":this.sessionCookieSecure}),a.last_session_ts=s.sts,o.setVisitorInfo(a)}else n&&this.extendSessionExpiry();return s},"extendSessionExpiry":function(){i.extendExpiry(this.sessionCookieName,{"expires":this.sessionCookieTimeoutSecs,"secure":this.sessionCookieSecure})}});e.sessionManager=new a}(),function(){var e=this.PARSELY,t=e.Class,n=e.util,i=e.JSON,r=e.$,o=n.getWindow(),a=o.document;if("querySelector"in a&&"querySelectorAll"in a){var s=["\0","","","","","","","","\b","\n","\x0B","\f","\r","","","","","","","","","","","","","","","","","",""],c=["&#0000;","&#0001;","&#0002;","&#0003;","&#0004;","&#0005;","&#0006;","&#0007;","&#0008;","&#000a;","&#000b;","&#000c;","&#000d;","&#000e;","&#000f;","&#0010;","&#0011;","&#0012;","&#0013;","&#0014;","&#0015;","&#0016;","&#0017;","&#0018;","&#0019;","&#001a;","&#001b;","&#001c;","&#001d;","&#001e;","&#001f;"],u=["newsarticle","article","techarticle","reportagenewsarticle","blog","blogposting","liveblogposting","report","review","opinionnewsarticle","analysisnewsarticle","backgroundnewsarticle","reviewnewsarticle","creativework","medicalwebpage","podcastepisode"],l=["webpage","discussionforumposting"],d=[].concat(u,l),f=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent},p=function(e,t){var n,o=!0===t?[]:{},a=null,u=r.trim(e);0===u.indexOf("//<![CDATA[")?(n=(u=u.substr(11)).length-5,u.indexOf("//]]>")===n&&(u=u.substr(0,n))):0===u.indexOf("/*<![CDATA[*/")&&(n=(u=u.substr(13)).length-7,u.indexOf("/*]]>*/")===n&&(u=u.substr(0,n))),u=u.replace(/,\s*(?=[\]|}])/g,""),r.each(s,function(e,t){u=u.replace(new RegExp(t,"g"),"")}),r.each(c,function(e,t){u=u.replace(new RegExp(t,"g"),"")}),u=u.replace(/\n/g,""),u=u.replace(/\t/g," "),u=u.replace(/&#0009;/g," "),u=u.replace(/\\+((\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4}))/g,"$1");try{a=i.parse(u)}catch(l){return PARSELY.console.log("Error parsing JSON metadata: "+l),o}return a instanceof Array?a:a instanceof Object?!0===t?[a]:a:o},h=function(e){return("string"==typeof e||e instanceof String)&&0!==e.length?(r.each(c,function(t,n){e=e.replace(new RegExp(n,"g"),"")}),e):e},g=function _(e){if(e instanceof Array)return r.each(e,function(e,t){return _(t)});if(e instanceof Object){var t={};for(var n in e)t[_(n)]=_(e[n]);return t}return null==e?e="":(e=e.toString(),e=h(e),e=f(e)),e},v=function(e){var t=a.querySelectorAll('meta[name="parsely-'+e+'"], meta[property="parsely-'+e+'"]'),n=null;return r.each(t,function(e,t){if(null!==n)return!1;"content"in t&&""!==t.content&&(n=p(t.content,!1))}),n},y=function(){var e=v("metadata");return null===e||e.length>2e3?null:e},m=function(){};m.prototype=function(){var e=t.extend({"extractPageDescription":function(){throw Error("Not Implemented")},"getMetadata":function(e){var t=[];e.hasOwnProperty("tags")&&(t=e.tags,delete e.tags,("string"==typeof t||t instanceof String)&&(t=[t]));var n=y();null===n&&e.hasOwnProperty("metadata")&&(n=e.metadata),null===n||"string"==typeof n||t instanceof String||(n=i.stringify(n));var o=e.section||null;delete e.section;var a={"metadata":n,"section":o},s=[];r.each(t,function(e,t){null!==t&&t.length>0&&""!==t&&s.push(t)}),s.length>0&&(a.tags=s);var c={};return r.each(a,function(e,t){null!==t&&(c[e]=t)}),r.isEmptyObject(c)&&(c=null),c},"extract":function(){var e,t,n={},i=[];try{e=this.extractPageDescription()}catch(c){return PARSELY.console.log("Failed to extract page description: "+c),{}}if(r.isEmptyObject(e)||null===e)return{};r.each(e,function(e,t){n[g(e)]=g(t)});var o=this.getMetadata(n);null!==o&&(n.metadata=o),n.hasOwnProperty("author")&&!n.hasOwnProperty("authors")&&(t=n.author,n.authors=t instanceof Array?t:[t],delete n.author),n.hasOwnProperty("type")&&(i=n.type instanceof Array?n.type:[n.type]);var a=[],s=[];return r.each(i,function(e,t){var n=t.toLowerCase();-1!==u.indexOf(n)?a.push(n):-1!==l.indexOf(n)&&s.push(n)}),a.length>0?n.type="post":s.length>0&&(n.type="index"),n}}),n=e.extend({"extractPageDescription":function(){return v("page")}}),s=e.extend({"extractPageDescription":function(){var e={"authors":[]},t={},n={"@type":"type","headline":"title","url":"link","thumbnailUrl":"image_url","dateCreated":"pub_date","datePublished":"pub_date","articleSection":"section","creator":"authors","contributor":"authors","author":"authors","keywords":"tags","articleId":"post_id","metadata":"metadata","isBasedOn":"network_canonical","identifier":"network_id"},i=function(e,t){return e instanceof Array!=!0&&(e=[e]),r.each(e,function(e,n){var i=null;n instanceof Object==!0?(n.hasOwnProperty("@type")&&"Person"===n["@type"]||n.hasOwnProperty("type")&&"Person"===n.type)&&((i=n.name||null)instanceof Object&&(i=i.name||null),i=[i]):"string"==typeof n||n instanceof String?i=[n]:n instanceof Array&&(i=n),null!==i&&r.each(i,function(e,n){-1===t.indexOf(n)&&null!==n&&t.push(n)})}),t};r.each(a.querySelectorAll('script[type="application/ld+json"]'),function(e,n){var i=p(n.innerHTML,!0);r.each(i,function(e,n){var i="";n.hasOwnProperty("@type")&&(i=n["@type"]),i instanceof Array!=!0&&(i=[i]);var o=[];r.each(i,function(e,t){o.push(t.toLowerCase())}),r.each(o,function(e,i){-1!==d.indexOf(i)&&(t[i]=n)})})});var o;return r.each(d,function(e,n){if((o=t[n])!==undefined)return!1}),o===undefined?{}:(o.hasOwnProperty("datePublished")&&o.hasOwnProperty("dateCreated")&&delete o.dateCreated,r.each(o,function(t,r){if("authors"===(t=n.hasOwnProperty(t)?n[t]:t))e.authors=i(r,e.authors);else{if("@context"===t)return!0;e[t]=r}}),e)}}),c=e.extend({"extractPageDescription":function(){try{return{"amphtmlurl":a.querySelector("link[rel=amphtml]").href}}catch(e){return{}}}}),f=e.extend({"extractPageDescription":function(){var e,t=["type","link","image_url","title","pub_date","section","author","tags","post_id","network_id","network_canonical"],n={};return r.each(t,function(t,i){var o='meta[name="parsely-'+i.replace("_","-")+'"]',s=a.querySelectorAll(o);r.each(s,function(t,r){if(r.content!==undefined&&""!==r.content){var o=r.content;if("tags"===i){n.hasOwnProperty("tags")||(n.tags=[]),e=o.split(",");for(var a=0;a<e.length;a++)n.tags.push(e[a].trim())}else"author"===i?(n.hasOwnProperty("authors")||(n.authors=[]),n.authors.push(o)):n[i]=o}})}),n}}),h=e.extend({"extractPageDescription":function(){try{return{"link":a.querySelector("link[rel=canonical]").href}}catch(e){return{}}}}),_=e.extend({"extractPageDescription":function(){var e;try{return e=a.querySelector("meta[name='title']")||a.querySelector("meta[property='og:title']")||a.querySelector("meta[name='dc.title']"),{"title":e.content}}catch(t){return{"title":a.title||""}}}}),b=function(e){e===undefined&&(e=!0);var t={},i=new s,u=new f,l=new n,d=new c,p=new h,g=[i.extract.bind(i),u.extract.bind(u),l.extract.bind(l),d.extract.bind(d),p.extract.bind(p)];if(e){var v=new _;g.unshift(v.extract.bind(v))}return r.each(g,function(e,n){var i=n();if(null!==i){i.hasOwnProperty("metadata")&&i.metadata.hasOwnProperty("metadata")&&t.hasOwnProperty("metadata")&&(t.metadata.metadata=i.metadata.metadata,delete i.metadata.metadata,r.isEmptyObject(i.metadata)&&delete i.metadata);for(var o in i)i.hasOwnProperty(o)&&(null!==i[o]&&""!==i[o]||delete i[o]);r.extend(t,i)}}),t.hasOwnProperty("metadata")&&(r.each(t.metadata,function(e,n){t.hasOwnProperty(e)||(t[e]=n,delete t.metadata[e])}),r.isEmptyObject(t.metadata)?delete t.metadata:(t.pub_metadata=t.metadata,delete t.metadata)),t.hasOwnProperty("type")&&(t.page_type=t.type,delete t.type),t.title!==undefined&&(t.title=t.title.trim()),e&&(t.title===undefined&&(t.title=""),t.link===undefined&&(t.link=o.location.href||a.location.href)),t};return{"constructor":m,"get":function(e){return b(e)}}}(),e.metadata=new m}}(),function(){var e=this.PARSELY,t=e.$,n=e.util;e.enableMetadataHashing=!("undefined"==typeof e.metadata);var i=function(e){var t=0;if(n.isIE())for(var i=0;i<e.length;++i)t=(t<<5)-t+e.charCodeAt(i);else for(var r=0;r<e.length;++r)t=Math.imul(31,t)+e.charCodeAt(r);return 0|t},r=function(e){var n=["authors","section","tags","title"],r="";return t.each(n,function(t,n){var i=Array.isArray(e[n])?e[n].sort():e[n];r=r.concat(String(i))}),i(r)};e.getMetadataDetectorInfo=function(){var n=e.metadata.get(!1);return{"version":0,"url":n.link,"hash":t.isEmptyObject(n)?undefined:r(n)}}}(),function(){var e=this.PARSELY,t=e.util,n=e.JSON,i=e.$,r=t.getWindow().document;PARSELY.getLdJsonMetas=function(){for(var e=r.getElementsByTagName("script"),t=0;t<e.length;t++){var i=e[t];if("application/ld+json"===i.getAttribute("type")){var o;try{o=n.parse(i.innerHTML)}catch(a){return null}return{"type":"NewsArticle"===o["@type"]?"post":"sectionpage","title":o.headline,"link":o.url,"image_url":o.thumbnailUrl,"pub_date":o.dateCreated,"section":o.articleSection,"authors":o.creator,"tags":o.keywords}}}return null},PARSELY.getRepeatedMetaMetas=function(){for(var e={},t=r.getElementsByTagName("meta"),n={"parsely-title":"title","parsely-link":"link","parsely-image-url":"image_url","parsely-type":"type","parsely-post-id":"post_id","parsely-pub-date":"pub_date","parsely-section":"section","parsely-author":"authors","parsely-tags":"tags"},o=0;o<t.length;o++){var a=t[o],s=n[a.getAttribute("name")];if(void 0!==s){var c=a.getAttribute("content");"authors"===s?"undefined"==typeof e[s]?e[s]=[c]:e[s].push(c):e[s]="tags"===s?c.split(","):c}}return i.isEmptyObject(e)?null:e},PARSELY.getParselyPageMetas=function(){for(var e=r.getElementsByTagName("meta"),t=0;t<e.length;t++){var i=e[t];if("parsely-page"===i.getAttribute("name")){var o=i.getAttribute("value")||i.getAttribute("content");try{return n.parse(o)}catch(a){return null}}}return null},PARSELY.getMetas=function(){return this.getRepeatedMetaMetas()||this.getParselyPageMetas()||this.getLdJsonMetas()}}(),function(){function e(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t,n]}function t(e){var n=o.slots.hasParselySlots?c:"id";if(null!==e.getAttribute(n))return"//*[@"+n+'="'+e.getAttribute(n)+'"]';if(e===document.body)return"//"+e.tagName.toLowerCase();for(var i=0,r=e.parentNode?e.parentNode.childNodes:[],a=0;a<r.length;a++){var s=r[a];if(s===e)return t(e.parentNode)+"/"+e.tagName.toLowerCase()+"["+(i+1)+"]";s.nodeType===u&&s.tagName===e.tagName&&i++}}function n(e){if(!e||0===e.indexOf("#")||0===e.indexOf("javascript"))return!0;var t=window.location.href;return e===t||0===e.indexOf(t+"#")}function i(e,t){function n(e,t){return e===document||t>=i||!e?null:"A"===e.nodeName?e:n(e.parentNode,t+1)}var i=(t=t||{}).maxHeight||5;return n(e,0)}function r(e){return e.getAttribute("parsely-target")||e.href}var o=this.PARSELY,a=o.util,s=o.ParselyStorage,c="data-parsely-slot";if(o.slots=o.slots||{},document.querySelector){o.slots.discoverSlots=function(){o.slots.hasParselySlots=!!document.querySelector("["+c+"]"),o.slots.discoveryTime=a.now()},o.slots.discoverSlots(),o.slots.reset=function(){o.slots.discoverSlots()};var u=1;a.objAddEventListener(document.body,"click",function(a){var c=i(a.target?a.target:a.srcElement);if(null===c)return!0;if(!n(c.getAttribute("href"))){var u=e(c),l=t(c),d={"url":o.util.getEventUrl(),"x":u[0],"y":u[1],"xpath":l,"href":r(c)};s.setJSON("_parsely_slot_click",d)}},!0)}else o.console("Slot tracking not supported on this browser")}(),function(e){"use strict";var t=e.$;e.Sampler=function(n){var i={};if(i._hasStartedSampling=!1,i._accumulators={},i._baseHeartbeatInterval=15e4,i._jitterRange=5e3,i._jitterFloor=0-i._jitterRange/2,t.isNumeric(e.secondsBetweenHeartbeats)){var r=i._baseHeartbeatInterval/1e3,o=e.secondsBetweenHeartbeats<r&&!0===n._parselyIsTest;(e.secondsBetweenHeartbeats>r||o)&&(i._baseHeartbeatInterval=1e3*e.secondsBetweenHeartbeats)}return i.trackKey=function(t,r,o){if((void 0===r||"function"==typeof r)&&void 0!==o){if(!i._accumulators.hasOwnProperty(t)){var a=i._baseHeartbeatInterval;i._accumulators[t]={"ms":0,"totalMs":0,"firstSampleTime":e.util.now(),"lastSampleTime":e.util.now(),"lastActiveSampleTime":undefined,"sampleFn":r,"heartbeatFn":o,"heartbeatInterval":a,"heartbeatTimer":undefined,"baseHeartbeatInterval":a}}!1===i._hasStartedSampling&&(n.setInterval(i._sample,100),i._hasStartedSampling=!0),i._setHeartbeatTimeout(t)}},i._setHeartbeatTimeout=function(e){var t=i._accumulators[e];"undefined"!=typeof t.heartbeatTimer&&i._unsetHeartbeatTimeout(e);var r=Math.random()*i._jitterRange+i._jitterFloor,o=t.heartbeatInterval+r;t.heartbeatTimer=n.setTimeout(function(){i.sendHeartbeat(e)},o)},i._unsetHeartbeatTimeout=function(e){var t=i._accumulators[e];n.clearTimeout(t.heartbeatTimer),t.heartbeatTimer=undefined},i._backoff=function(t,n){var i=.3*((n=void 0===n?e.util.now()-t.firstSampleTime:n)/1e3+35),r=Math.min(36e5,i);t.heartbeatInterval=1e3*r},i.dropKey=function(e){delete i._accumulators[e]},i._sample=function(t,n){t=void 0===t?e.util.now():t;var r,o,a,s;for(var c in i._accumulators)r=i._accumulators[c],a=t-(void 0===n?r.lastSampleTime:n),o="undefined"==typeof r.sampleFn||r.sampleFn(t),e.config.limit_et_sample_len&&(s=a>0&&a<200,o=o&&s),r.ms+=o?a:0,r.totalMs+=o?a:0,r.lastSampleTime=t,o&&(t-r.lastActiveSampleTime>r.baseHeartbeatInterval&&(r.heartbeatInterval=r.baseHeartbeatInterval,i._setHeartbeatTimeout(c)),r.lastActiveSampleTime=t)},i.sendHeartbeat=function(e,t,n,r){var o=i._accumulators[e];if(void 0!==o){var a=void 0===t?o.ms/1e3:t,s=Math.round(a);s>0&&s<=3600&&o.heartbeatFn(s,undefined,o.totalMs,r),o.ms=0,r||i._backoff(o,n),i._setHeartbeatTimeout(e)}},i._sendHeartbeats=function(e,t){for(var n in i._accumulators)i.sendHeartbeat(n,e,t,!0)},i._setUnloadListeners=function(){e._lifecycle.addEventListener("statechange",function(e){"hidden"===e.newState.toLowerCase()&&i._sendHeartbeats()})},i._setUnloadListeners(),i}(e.util.getWindow())}(this.PARSELY),function(){var e=this.PARSELY,t=e.config.settings,n=e.Sampler,i=e.$,r=e.util;if("boolean"!=typeof e.enableHeartbeats||e.enableHeartbeats){var o=["focus","mousedown","mouseup","mousemove","scroll","keyup","keydown"],a=["active","passive"],s=5;i.isNumeric(e.activeTimeout)&&e.activeTimeout>=1&&e.activeTimeout<=60&&(s=e.activeTimeout);var c=r.now();e.engagedTime=e.engagedTime||{},e._lastEventTime=c,e.isEngaged=!0,e.isInteracting=!0,e.focused=!0,e.videoPlaying=!1,e.ENGAGED_TIME_SAMPLER_KEY="engagedTime",!0===t.test&&(e._handleEngagementActivityCalls=0),!0!==e.fbInstantArticles&&e._lifecycle.addEventListener("statechange",function(t){var n=t.newState.toLowerCase();-1!==a.indexOf(n)?e.focused=!0:e.focused=!1});var u=function(){e._lastEventTime=r.now(),!0===t.test&&e._handleEngagementActivityCalls++};!0!==e.fbInstantArticles?i.each(o,function(e,t){r.windowAddEventListener(t,u)}):setInterval(u,1e3*s),e.engagedTime.getParams=function(){return{"minActiveTimeout":1,"maxActiveTimeout":60,"activeTimeout":s}},e.engagedTime.sample=function(t,n,i,o){return t=void 0===t?r.now():t,n=void 0===n?e._lastEventTime:n,i=void 0===i?e.videoPlaying:i,o=void 0===o?e.focused:o,e.isInteracting=t-n<1e3*s,e.isEngaged=e.isInteracting&&o||i,e.isEngaged},e.engagedTime.sendHeartbeat=function(t,n,o,a){t=void 0===t?0:t,n=void 0===n?e.enableHeartbeats:n,a=void 0!==a&&a,(void 0===n||!0===n)&&(!0!==e.config.heartbeat_should_honor_autotrack||e.autotrack)&&("undefined"!=typeof PARSELY.beacon&&"undefined"!=typeof PARSELY.beacon.pixel&&"function"==typeof PARSELY.beacon.pixel.beacon?(PARSELY.beacon.pixel.beacon({"date":(new Date).toString(),"action":"heartbeat","inc":t,"tt":o,"url":r.getEventUrl(),"urlref":e.lastRequest?e.lastRequest.urlref:r.getWindow().document.referrer},undefined,a),i.isFunction(e.onHeartbeat)&&e.onHeartbeat(t)):console.warn("PARSELY.beacon.pixel.beacon was called with action='heartbeat' while PARSELY.beacon was undefined."))},e.engagedTime.startTracking=function(){var t=!0===e.fbInstantArticles?undefined:e.engagedTime.sample;n.trackKey(e.ENGAGED_TIME_SAMPLER_KEY,t,e.engagedTime.sendHeartbeat)},e.engagedTime.stopTracking=function(){n.dropKey(e.ENGAGED_TIME_SAMPLER_KEY)},e.engagedTime.initNewPage=function(){e.engagedTime.stopTracking(),e.engagedTime.startTracking()},e.engagedTime.startTracking()}}(),function(){var e=this.PARSELY,t=e.$,n=e.Class,i=e.JSON,r=e.console,o=e.config,a=e.urls,s=e.visitorManager,c=e.sessionManager,u=e.ParselyStorage,l=e.util.getWindow(),d=l.document,f=l.screen;PARSELY.Pixel=n.extend({"init":function(){var t=e.util.getEventUrl(),n=f.width+"x"+f.height+"|"+(f.availWidth+"x"+f.availHeight)+"|"+f.colorDepth;this.correlationIds={"pageview":"pvid","videostart":"vsid"},this.callbackName="parselyStartCallback",this.data={"idsite":o.apikey,"url":t,"urlref":d.referrer,"screen":n,"data":{}},o.hasOwnProperty("is_remote_config")&&!0!==o.is_remote_config||(this.data.data.parsely_uuid=o.network_uuid||o.uuid,this.data.data.parsely_site_uuid=o.parsely_site_uuid),this.remoteEndpoint=a.pixel+this.selectEndpoint(),this.thirdPartyBlockedCookieSettings={"name":"_parsely_tpa_blocked","timeoutSecs":43200,"flagAttribute":"tpab"}},"selectEndpoint":function(){return!1===o.track_ip_addresses?"/px/":"/plogger/"},"isThirdPartyAnalyticsBlocked":function(){if(!e.is_first_party)return undefined;var t=this.thirdPartyBlockedCookieSettings,n=u.getJSON(t.name);if(void 0!==n&&(this.third_party_analytics_is_blocked=n[t.flagAttribute]),"undefined"==typeof this.third_party_analytics_is_blocked&&"undefined"==typeof this.third_party_analytics_checked){this.third_party_analytics_checked=!0;var i=this,r=function(e){i.third_party_analytics_is_blocked=e;var n={};n[t.flagAttribute]=e,u.setJSON(t.name,n,{"expires":t.timeoutSecs})},o=new Image;o.onerror=function(){r(!0)},o.onload=function(){r(!1)},o.src="https://p1.parsely.com/plogger/"}return this.third_party_analytics_is_blocked},"addDefaults":function(e){t.extend(!0,this.data,e)},"shouldGenerateVisitorID":function(e){return!(!o.hasOwnProperty("is_remote_config")||!0===o.is_remote_config)&&!e},"saveVisitorID":function(e){var t=c.getSession(),n={"id":e,"session_count":t.sid,"last_session_ts":t.sts};u.setJSON(s.visitorCookieName,n,{"expires":s.visitorCookieTimeoutSecs,"secure":s.visitorCookieSecure}),c.getSession()},"generateVisitorID":function(){o.uuid=e.util.makeUUID("pid="),this.saveVisitorID(o.uuid)},"conversionsOverrides":function(t){var n=["u","url","urlref","surl","slts","sts","sid","sref"],i=t.conversionOverrides;for(var r in i)if(i.hasOwnProperty(r)&&n.includes(r))try{t[r]=i[r]}catch(o){e.console.log("Error overriding ".concat(r," when beaconing crossdomain conversion. Error: ").concat(o," "))}return delete t.conversionOverrides,t},"sendEvent":function(n,i){r.log("beaconing to endpoint: "+this.remoteEndpoint),n.u=i;var o=new Image;"conversion"===n.action&&n.hasOwnProperty("conversionOverrides")&&(n=this.conversionsOverrides(n)),o.src=this.buildEventRequestUrl(n),t.isFunction(e.onBeacon)&&e.onBeacon(n)},"requestFetch":function(n,i){return r.log("fetching endpoint: "+this.remoteEndpoint),"undefined"!=typeof l.fetch&&(n.u=i,"conversion"===n.action&&n.hasOwnProperty("conversionOverrides")&&(n=this.conversionsOverrides(n)),fetch(this.buildEventRequestUrl(n),{"method":"GET","mode":"no-cors","keepalive":!0})["catch"](function(e){r.log(e)}),t.isFunction(e.onBeacon)&&e.onBeacon(n),!0)},"buildEventRequestUrl":function(e){var n=t.param(e);return this.remoteEndpoint+"?"+n},"generatePageloadId":function(){return"undefined"==typeof e.pageload_id&&(e.pageload_id=e.util.makeUUID()),e.pageload_id},"getCorrelationIdKey":function(e){return"_"+e+"_correlation_id"},"generateEventCorrelationId":function(t,n){var i=this.getCorrelationIdKey(t);return!0===n&&(e[i]=e.util.makeUUID()),e[i]},"beacon":function(n,r,u){var l=c.getSession(!0),d=e.util.now(),f=this.generatePageloadId()||0,p=t.extend(!0,{"rand":d,"plid":f},this.data,l,n),h=e.visitorManager.getVisitorInfo();!0===this.isThirdPartyAnalyticsBlocked()&&(p.tpab=1,p.data.flashlight=1),s.extendVisitorExpiry();var g;for(var v in this.correlationIds)void 0!==(g=this.generateEventCorrelationId(v,v===p.action))&&(p[this.correlationIds[v]]=g);p.data=i.stringify(p.data),!0!==r&&(PARSELY.lastRequest=p),o.uuid=h.id,this.shouldGenerateVisitorID(h.id)&&this.generateVisitorID(),!0===u&&(e.util.isFirefox()||e.util.isSafari())&&(u=!1),this.remoteEndpoint=a.pixel+this.selectEndpoint();var y=!1;!0===u&&(y=this.requestFetch(p,o.uuid)),!1===y&&this.sendEvent(p,o.uuid)}})}(),function(){var e=this.PARSELY,t=e.$,n=e.console,i=e.Class,r=e.JSON,o=e.ParselyStorage,a=e.util.getWindow().document;PARSELY.Beacon=i.extend({"init":function(){this.pixel=new PARSELY.Pixel},"trackPageView":function(i,s){void 0===i&&(i={}),"undefined"!=typeof i.action&&"pageview"!==i.action||e.initNewPage(!1);var c={"title":a.title,"date":(new Date).toString(),"action":"pageview","url":e.util.getEventUrl(),"urlref":a.referrer};e.enablePixelMetadata&&(c.hasOwnProperty("metadata")?c.metadata=r.stringify(t.extend(c.metadata,e.metadata.get())):c.metadata=r.stringify(e.metadata.get())),e.enableMetadataHashing&&(i.data=t.extend(i.data,{"parsely:metadata-detection":e.getMetadataDetectorInfo()}));var u=o.getJSON("_parsely_slot_click");u&&(o.expire("_parsely_slot_click"),n.log("Valid slot click found"),c.sl_xp=u.xpath,c.sl_x=u.x,c.sl_y=u.y,c.sl_h=u.href,u.url!==c.urlref&&n.log("urlref overridden by slot data as "+u.url),c.urlref=u.url),t.extend(c,i),this.pixel.beacon(c,s)},"trackConversion":function(e){window.console.warn("[WARN] `PARSELY.beacon.trackConversion()` is being deprecated."),window.console.warn("[WARN] Please consult https://www.parse.ly/help/integration/conversions/ to update to the new Conversions js-API.");var i=["active","lead","customer"],r={"label":undefined};e&&e.category?-1===i.indexOf(e.category)?n.log("'"+e.category+"' is not a valid conversion category; must be one of: "+i.join(", ")):(t.extend(r,e),this.trackPageView({"action":"conversion","data":{"_conversion_type":e.category,"_conversion_label":e.label}})):n.log("No category specified; category required for conversion events")},"start":function(){this.startTime=e.util.now(),this.autotrack="undefined"==typeof PARSELY.autotrack||PARSELY.autotrack,this.autotrack?(n.log("autotrack enabled; doing automatic pageview beacon"),this.trackPageView()):n.log("autotrack disabled; beacon loaded but no data sent")}})}(),function(){var e=PARSELY.config.settings,t=PARSELY.console,n=PARSELY.$;PARSELY.updateDefaults=function(e){return PARSELY.beacon.pixel.addDefaults(e)},PARSELY.setConfigOptions=function(e){e.hasOwnProperty("track_ip_addresses")&&(PARSELY.config.track_ip_addresses=e.track_ip_addresses)},PARSELY.initNewPage=function(e){"undefined"!=typeof PARSELY&&("undefined"!=typeof PARSELY.Sampler&&"function"==typeof PARSELY.Sampler._sendHeartbeats&&PARSELY.Sampler._sendHeartbeats(),"undefined"!=typeof PARSELY.engagedTime&&"function"==typeof PARSELY.engagedTime.initNewPage&&PARSELY.engagedTime.initNewPage(),"undefined"!=typeof PARSELY.video&&"function"==typeof PARSELY.video.clear&&PARSELY.video.clear(),"undefined"!=typeof PARSELY.slots&&"function"==typeof PARSELY.slots.reset&&PARSELY.slots.reset(),"undefined"!=typeof PARSELY.lastRequest&&delete PARSELY.lastRequest,!1!==e&&"undefined"!=typeof PARSELY.beacon&&"function"==typeof PARSELY.beacon.start&&PARSELY.beacon.start(),PARSELY.autotrack&&PARSELY.video&&!1!==PARSELY.video.autotrack&&"function"==typeof PARSELY.video.detectVideos&&PARSELY.video.detectVideos())},PARSELY.onStart=function(e){"function"==typeof e&&e()},PARSELY.isFlashlight=function(){return PARSELY.beacon.pixel.isThirdPartyAnalyticsBlocked()};var i;if(e.tracker&&(t.log("tracker enabled, create Beacon"),i=new PARSELY.Beacon,PARSELY.beacon=i),"undefined"!=typeof PARSELY._stubs){var r,o;for(r in PARSELY._stubs)if(PARSELY._stubs.hasOwnProperty(r)&&"function"==typeof PARSELY[r])for(o=0;o<PARSELY._stubs[r].length;o++)PARSELY[r].apply(null,PARSELY._stubs[r][o])}void 0!==i&&(i.start(),n.isFunction(PARSELY.onReady)&&PARSELY.onReady());try{if("undefined"!=typeof Storage&&localStorage.getItem("parsely-overlay")){var a=document.createElement("script");a.setAttribute("src","https://dash.parsely.com/static/build/overlay.js?v="+PARSELY.util.now()),document.body.appendChild(a)}}catch(s){PARSELY.console.log(s)}}(),function(){var e=PARSELY.onload,t=PARSELY.console;if("function"==typeof e)try{e()}catch(n){t.dir({"info":"hook threw exception","error":n})}t.log("Final load stage completed successfully"),PARSELY.loaded=!0}(),function(){var e=this.PARSELY,t=e.Class,n=e.util.getWindow();e.conversions=e.conversions||{};for(var i=["Lead Capture","Link Click","Newsletter Signup","Subscription","Purchase","Custom"],r=function(t,i){var r={"action":"conversion","data":{"_conversion_type":t}};if(e.util.inIframe()){var o={};if(n.location.search.slice(1).split("&").forEach(function(t){var n=t.split("=");try{o[n[0]]=decodeURIComponent(decodeURIComponent(n[1]))}catch(i){e.console.log("Error decoding ".concat(o[n[0]])),o[n[0]]=""}}),o.parselyObject){var a={};try{a=JSON.parse(decodeURIComponent(o.parselyObject))}catch(s){a={},e.console.log("Error decoding Parsely Object: ",s)}r.conversionOverrides=a}}return i?"string"==typeof i||i instanceof String||(e.console.log("[WARN] Attempted to send Parse.ly conversions "+t+" event sent with non-string label; using default value instead."),i="No label provided"):(e.console.log("[WARN] Attempted to send Parse.ly conversions "+t+" event without label; using default value instead."),i="No label provided"),r.data._conversion_label=i,r},o=function(e){return e.toLowerCase().replace(" ","_")},a=function(e){return"track"+e.replace(" ","")},s=function(t){t.action="conversion",e.beacon.trackPageView(t)},c=0;c<i.length;c++)!function(t){var n=a(t);e.conversions[n]=function(e){e=void 0!==e?e:t;var n=r(o(t),e);s(n)}}(i[c]);if(document.querySelector&&document.querySelectorAll){var u=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;if(void 0===e&&void 0===t)return!0;if(e)for(var i=0;i<e.length;i++)if(!!!document.querySelector(e[i]))return!1;if(t){if(t.rid&&n&&t.rid!==n.rid)return!1;if(t.termId&&n&&t.termId!==n.termId)return!1}return!0},l=function(e,t){var n=function(e){return e.slice(1).split("&")},i=n(e);return n(t).every(function(e){return this.some(function(t){return-1!==t.indexOf(e)})},i)},d=function(e,t){var n=document.createElement("a");return n.href=t,e.host===n.host&&(0===e.pathname.indexOf(n.pathname)&&(!(n.search.length>0)||l(e.search,n.search)))};e.conversions.ConversionFromConfigs=t.extend({"init":function(t){var n,i=this;this.results=[],this.config=t,"function"==typeof(n=e.conversions[a(i.config.type)])?(this.conversionAction=function(t){u(i.config.conditions,i.config.pianoConditions,t)?e.config.customizations&&!0===e.config.customizations.debug?console.log('Debug: Conversion event would have been sent with type "'.concat(i.config.type,'" and label "').concat(i.config.label||i.config.type,'".')):n(i.config.label):e.console.log("Conversion callback triggered but conditions not satisfied: ".concat(i.config.conditions))},this.callback=function(e){i.conversionAction(e)},this.retryInterval=i.config.retryInterval||100,this.currentUrlIsAllowed=function(){if(Object.prototype.hasOwnProperty.call(i.config,"allowedUrls")){for(var t=e.util.getWindow().location,n=0;n<i.config.allowedUrls.length;n++)if(d(t,i.config.allowedUrls[n]))return!0;return!1}return!0}(),this.processConversionConfig()):e.console.log("Configuration specified ".concat(i.config.type," which is not a supported conversion type"))},"findMatchingElements":function(){var e=document;return this.config.documentSelector&&document.querySelector(this.config.documentSelector)&&(e=document.querySelector(this.config.documentSelector).contentWindow.document),this.matchingElements=e.querySelectorAll(this.config.selector),this},"addIframeArgs":function(){for(var t=n.document,i=t.querySelectorAll(this.config.iframeSelector),r=t.location.href,o=t.referrer,a=e.visitorManager.getVisitorInfo(),s=e.sessionManager.getSession(),c={"url":r,"u":a.id,"slts":s.slts,"sts":s.sts,"sref":s.sref,"sid":s.sid,"surl":s.surl,"urlref":o},u=encodeURIComponent(JSON.stringify(c)),l=0;l<i.length;l++){var d=i[l].src.split("?"),f=d[0],p=d[1],h={};p&&(h=e.util.buildNewParamsObject(p,["parselyObject"])),h.parselyObject=u;var g="?";for(var v in h)h.hasOwnProperty(v)&&(g+="".concat(v,"=").concat(h[v],"&"));if(i[l].src.includes("#")){var y=i[l].src.split("#");i[l].src=f+g+"#"+y[1]}else i[l].src=f+g}return this},"addDigiohListeners":function(){var e=this.config.documentSelector||"iframe[id*='lightbox-iframe']",t=document.querySelectorAll(e);0===t.length&&!1!==this.config.poll&&setTimeout(this.addDigiohListeners.bind(this),this.retryInterval);for(var n=0;n<t.length;n++)(function i(e){var t,n=this,r=e.contentWindow;r.BOX_CUSTOM_JS===undefined||r.BOX_CUSTOM_JS.runCustomJsBeforeSubmit===undefined?setTimeout(i.bind(this,e),100):(t=r.BOX_CUSTOM_JS.runCustomJsBeforeSubmit,r.BOX_CUSTOM_JS.runCustomJsBeforeSubmit=function(){t.apply(this,arguments),n.callback()},n.results.push(e))}).bind(this,t[n])();return this},"addPianoListeners":function(){var e;return window.tp===undefined||"function"!=typeof window.tp.push?setTimeout(this.addPianoListeners.bind(this),this.retryInterval):(e=["addHandler",this.config.selector||"checkoutComplete",this.callback],window.tp.push(e),this.results.push(e)),this},"addSkimlinksListeners":function(){if(window.MutationObserver===undefined||"function"!=typeof window.MutationObserver)return e.console.log("Skimlinks conversions not supported on this browser"),this;var t=this,n=function(e,n){for(var i=0;i<e.length;i++)if("attributes"===e[i].type&&-1!==e[i].target.href.indexOf("go.skimresources.com")){t.callback(),n.disconnect();break}},i=function(t){var i={"attributeFilter":["href"],"attributeOldValue":!0};new MutationObserver(n).observe(t,i),e.console.log("Created skimlinks observer")};return document.body.addEventListener("click",function(e){"A"===e.target.tagName&&(-1!==e.target.href.indexOf("go.skimresources.com")?t.callback():i(e.target))},!0),this},"addStandardListeners":function(){if(this.findMatchingElements(),0===this.matchingElements.length&&!0===this.config.poll)return setTimeout(this.addStandardListeners.bind(this),100),this;for(var e=0;e<this.matchingElements.length;e++)this.matchingElements[e].addEventListener(this.config.event,this.callback);return this.results.push(this.matchingElements),this},"processConversionConfig":function(){return this.currentUrlIsAllowed?("piano"===this.config.event?this.addPianoListeners():"digioh"===this.config.event?this.addDigiohListeners():"skimlinks"===this.config.event?this.addSkimlinksListeners():"load"===this.config.event?(this.results.push("onload"),this.conversionAction()):this.config.hasOwnProperty("iframeSelector")?this.addIframeArgs():this.addStandardListeners(),e.console.log("Initialized conversion configuration for ".concat(this.config.event," event")),this):(e.console.log("Conversion configuration skipped because URL is not allowed."),this)}}),e.conversions.initConversionsFromConfigs=function(t){var n=[];{if(Array.isArray(t.conversions)){for(var i=0;i<t.conversions.length;i++)n.push(new e.conversions.ConversionFromConfigs(t.conversions[i]));return n}e.console.log("PARSELY.config.customizations.conversions is not an array, so skipping conversion customizations.")}},e.config.customizations&&e.config.customizations.conversions&&e.conversions.initConversionsFromConfigs(e.config.customizations)}else e.console.log("Configuration-defined conversions not supported on this browser")}();